<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Roulette Calculator</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Roulette Calc">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="apple-touch-icon" href="icon.png">

  <style>
    body {
      background: #cfeef7;
      font-family: Arial, sans-serif;
	  color: white;
    }

    .app {
      width: 380px;
      margin: 20px auto;
      background: #cfeef7;
	  position: relative; /* allows absolute positioning inside this box */
    }

    .chip-row {
      display: grid;
      grid-template-columns: 1fr 100px;
      gap: 12px;
      margin-bottom: 14px;
	  margin-left: 140px;
    }

    .bet-row {
      display: grid;
      grid-template-columns: 60px 48px 1fr 48px 90px;
      align-items: center;
      gap: 6px;
      margin-bottom: 10px;
    }

    button, input {
      background: #3f627d;
      color: white;
      border: 3px solid #1f3b4d;
      border-radius: 10px;
      font-size: 18px;
      padding: 12px;
      text-align: center;
    }

    .circle {
      border-radius: 50%;
      font-weight: bold;
      background: white;
      color: black;
      border: 3px solid black;
    }

    .label {
      background: #3f627d;
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      padding: 12px;
      border-radius: 10px;
    }

    .footer {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 10px;
      margin-top: 15px;
    }

    .total {
      font-size: 18px;
      font-weight: bold;
    }
	
	.top-left-icon {
		width: 135px;       /* change size if you want */
		height: 120px;
		position: absolute; /* position relative to .app */
		top: 30px;          /* distance from top */
		left: 0px;         /* distance from left */

	.chip-row .label {
		font-size: 16px;   /* smaller text */
		padding: 8px;      /* smaller padding */
}

}

  </style>
</head>
<body>
  <div class="app">
		<img src="logo.png" alt="App Icon" class="top-left-icon" />

    <!-- Chips -->
    <div class="chip-row">
      <div class="label">White ($1)</div>
      <input type="number" id="chip1" value="0" min="0" />
    </div>
    <div class="chip-row">
      <div class="label">Red ($5)</div>
      <input type="number" id="chip5" value="0" min="0" />
    </div>
    <div class="chip-row">
      <div class="label">Green ($25)</div>
      <input type="number" id="chip25" value="0" min="0" />
    </div>

    <!-- Bets -->
    <div class="bet-row" data-payout="35">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Straight Up (35)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="17">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Split (17)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="11">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Street (11)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="8">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Corner (8)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="6">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Top Line (6)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="5">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Line (5)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <div class="bet-row" data-payout="11">
      <input type="number" value="0" class="left" />
      <button class="circle minus">−</button>
      <div class="label">Basket (11)</div>
      <button class="circle plus">+</button>
      <input type="number" value="0" class="right" readonly />
    </div>

    <!-- Footer -->
    <div class="footer">
      <button id="reset">Reset</button>
      <div class="label total">Total: $<span id="total">0</span></div>
    </div>
  </div>

  <script>
  // --- Dealer Roulette Calculator (Chip-Linked Buttons) ---
  const rows = document.querySelectorAll('.bet-row');
  const totalEl = document.getElementById('total');
  const resetBtn = document.getElementById('reset');

  const chip1 = document.getElementById('chip1');
  const chip5 = document.getElementById('chip5');
  const chip25 = document.getElementById('chip25');

  function sanitize(input) {
    let v = parseInt(input.value, 10);
    if (isNaN(v) || v < 0) v = 0;
    input.value = v;
    return v;
  }

  function updateRow(row) {
    const left = row.querySelector('.left');
    const right = row.querySelector('.right');
    const payout = Number(row.dataset.payout);

    const bet = sanitize(left);
    right.value = bet * payout;
    return bet * payout;
  }

  function updateTotal() {
    let total = 0;
    rows.forEach(row => {
      total += updateRow(row);
    });
    totalEl.textContent = total;
  }

function adjustChipsByBet(payout, delta) {
  chip1.value = Math.max(0, sanitize(chip1) + delta * payout * 1);
  chip5.value = Math.max(0, sanitize(chip5) + delta * payout * 5);
  chip25.value = Math.max(0, sanitize(chip25) + delta * payout * 25);
}

  rows.forEach(row => {
    const left = row.querySelector('.left');
    const plus = row.querySelector('.plus');
    const minus = row.querySelector('.minus');

const payout = Number(row.dataset.payout);

plus.addEventListener('click', () => {
  left.value = sanitize(left) + 1;
  adjustChipsByBet(payout, 1);
  updateTotal();
});

minus.addEventListener('click', () => {
  if (sanitize(left) === 0) return;
  left.value = sanitize(left) - 1;
  adjustChipsByBet(payout, -1);
  updateTotal();
});


left.addEventListener('input', () => {
  const prevBet = sanitize(left); // get the previous value
  const payout = Number(row.dataset.payout);

  // calculate difference between previous total and new input
  // for simplicity, we treat the input as absolute
  // first, reset the right value
  updateRow(row);

  // Recalculate total chips based on new input
  // Formula: chip increase = input value * payout
  // For simplicity, recalc total from scratch
  recalcChips();
  updateTotal();
	});

  });

  resetBtn.addEventListener('click', () => {
    document.querySelectorAll('input').forEach(i => i.value = 0);
    updateTotal();
  });

  updateTotal();
  function recalcChips() {
  // reset chips first
  chip1.value = 0;
  chip5.value = 0;
  chip25.value = 0;

  rows.forEach(row => {
    const left = row.querySelector('.left');
    const bet = sanitize(left);
    const payout = Number(row.dataset.payout);

    // add chips based on payout and bet
    chip1.value = Number(chip1.value) + bet * payout * 1;
    chip5.value = Number(chip5.value) + bet * payout * 5;
    chip25.value = Number(chip25.value) + bet * payout * 25;
  });
}

</script>
</body>
</html>
